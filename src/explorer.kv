#:kivy 2.0.0
#:import basename os.path.basename
<Explorer>:
    top:top
    viewmanager:viewmanager
    edit_mode:False
    show_unmatched:True
    orientation:'vertical'
    
    ExplorerTop:
        id:top
        root:root
        leftcorner:leftcorner.__self__
        middlelabel:middlelabel
        rightcorner:rightcorner
        size_hint_y:None
        height:'40dp'
        padding:'3dp'
        spacing: '3dp'
        Button:
            id:leftcorner
            text:'..'
            on_release:top.on_release_prevdir()
            size_hint_x:None
            width:'40dp'
        Label:
            id:middlelabel
            text:'top'
        ExplorerTopRightCorner:
            id:rightcorner
            root:root
            size_hint_x:None 
            width:self.minimum_width
    ScreenManager:
        id:viewmanager 
        ExplorerListView:
            id:listview
            root:root
            l:listview_list
            name:'listview'
            ScrollView:
                canvas.before:
                    Color:
                        rgb: 170/255, 170/255, 170/255

                    Rectangle:
                        size: self.size
                        pos: self.pos
                ExplorerListViewList:
                    id:listview_list
                    view:listview
                    root:root
                    orientation:'vertical'
                    size_hint_y:None
                    height:self.minimum_height
        ExplorerItemView:
            id:itemview
            root:root
            name:'itemview'
            Label:
                text:'itemview'
<ExplorerEditButton>:
    text:'e'
    on_press:self.on_press_this()
    size_hint_x:None
    width:'34dp'
<ExplorerEditRootButton>:
    text:'e-root'
    on_press:self.on_press_this()
    size_hint_x:None
    width:'34dp'
<ExplorerEditReturnButton>:
    text:'r'
    on_press:self.on_press_this()
    size_hint_x:None
    width:'34dp'


#listview entries-------------------

<ExplorerListViewEntry>:
    size_hint_y:None
    height:'35dp'
<ExplorerListViewEntryUnregisterButton>:
    text:'-'
    on_release:self.entry.on_release_unregister()
    size_hint_x:None
    width:'35dp'
<ExplorerListViewEntryEditButton>:
    text:'e'
    on_press:self.entry.on_press_edit()
    size_hint_x:None
    width:'35dp'
<ExplorerListViewMatchedDir>:
    Button:
        text:basename(root.path)
        on_release:root.on_release_enter()
        background_normal:''
        background_color:230/255, 200/255, 70/255
<ExplorerListViewUnmatchedDir>:
    Button:
        text:basename(root.path)
        on_release:root.on_release_enter()
        background_normal:''
        background_color:230/255, 160/255, 90/255
<ExplorerListViewUnregisteredDir>:
    Button:
        text:basename(root.path)
        on_release:root.on_release_enter()
        background_normal:''
        background_color:170/255, 170/255, 140/255
<ExplorerListViewMatchedFile>:
    Button:
        text:basename(root.path)
        on_release:root.on_release_enter()
        background_normal:''
        background_color: 100/255, 180/255, 220/255
<ExplorerListViewUnmatchedFile>:
    Button:
        text:basename(root.path)
        on_release:root.on_release_enter()
        background_normal:''
        background_color: 190/255, 130/255, 240/255
<ExplorerListViewUnregisteredFile>:
    Button:
        text:basename(root.path)
        on_release:root.on_release_enter()
        background_normal:''
        background_color: 155/255, 155/255, 170/255

#----------------------------------